<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <title>Word check</title>
</head>
  <body>
    <h1>English</h1>

    <div id="box"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    
    <script>
        
        const requestURL = 'http://localhost:3000/words';

        // async function getData () {

        // const response = await fetch(requestURL)
        // const array = await response.json()
        // console.log(array)

        //     for (const [key, val] of Object.entries(array)){

        //     let box = document.getElementById('box');

        //     let row = document.createElement('div');
        //     row.classList.add('row');
        //     row.classList.add('g-3');
        //     row.classList.add('align-items-center');

        //     let col = document.createElement('div');
        //     col.classList.add('col-1');

        //     const label = document.createElement('lebel');
        //     label.textContent = val.ua;

        //     let colA = document.createElement('div');
        //     colA.classList.add('col-auto');

        //     const input = document.createElement('input');
        //     input.id = key;
        //     input.setAttribute('type', 'text');
        //     input.classList.add('form-control');

        //     box.appendChild(row);
        //     row.appendChild(col);
        //     col.appendChild(label);
        //     row.appendChild(colA);    
        //     colA.appendChild(input);

        // }

        // function validate(){
        
        //   for (const [key, val] of Object.entries(array)){

        //     let answer = document.getElementById(key).value;
        //     let input = document.getElementById(key);

        //     if (val.en === answer) { 
                
        //         input.classList.remove('is-invalid');
        //         input.classList.add('is-valid');

        //     } else {
        //         input.classList.remove('is-valid');
        //         input.classList.add('is-invalid');
        //     }
        //     }
        // }


        // }

        // getData()


        fetch(requestURL)
        .then(res => res.json())
        .then((data) => {
            const array = data
            
            console.log(array)
 
            for (const [key, val] of Object.entries(array)){

            let box = document.getElementById('box');

            let row = document.createElement('div');
            row.classList.add('row');
            row.classList.add('g-3');
            row.classList.add('align-items-center');

            let col = document.createElement('div');
            col.classList.add('col-1');

            const label = document.createElement('lebel');
            label.textContent = val.ua;

            let colA = document.createElement('div');
            colA.classList.add('col-auto');

            const input = document.createElement('input');
            input.id = key;
            input.setAttribute('type', 'text');
            input.classList.add('form-control');

            box.appendChild(row);
            row.appendChild(col);
            col.appendChild(label);
            row.appendChild(colA);    
            colA.appendChild(input);

        }

        function validate(){
        
          for (const [key, val] of Object.entries(array)){

            let answer = document.getElementById(key).value;
            let input = document.getElementById(key);

            
            if (val.en === answer) { 
                
                input.classList.remove('is-invalid');
                input.classList.add('is-valid');

            } else {
                input.classList.remove('is-valid');
                input.classList.add('is-invalid');
            }
            }
        }


        })

        //var array = [
            //#todo : сделать так чтобы получал инфу с сервера
            // { en: 'car', ua: 'авто'},
            // { en: 'bike', ua: 'мото'},
            // { en: 'bus', ua: 'автобус'}
        //];

        // for (const [key, val] of Object.entries(array)){

        //     let row = document.createElement('div');
        //     row.classList.add('row');
        //     row.classList.add('g-3');
        //     row.classList.add('align-items-center');

        //     let col = document.createElement('div');
        //     col.classList.add('col-1');

        //     const label = document.createElement('lebel');
        //     label.textContent = val.ua;

        //     let colA = document.createElement('div');
        //     colA.classList.add('col-auto');

        //     const input = document.createElement('input');
        //     input.id = key;
        //     input.setAttribute('type', 'text');
        //     input.classList.add('form-control');

        //     document.body.appendChild(box);
        //     box.appendChild(row);
        //     row.appendChild(col);
        //     col.appendChild(label);
        //     row.appendChild(colA);    
        //     colA.appendChild(input);

        // }

        // function validate(){
        
        // for (const [key, val] of Object.entries(array)){

        //     let answer = document.getElementById(key).value;
        //     let input = document.getElementById(key);

            
        //     if (val.en === answer) { 
                
        //         input.classList.remove('is-invalid');
        //         input.classList.add('is-valid');

        //     } else {
        //         input.classList.remove('is-valid');
        //         input.classList.add('is-invalid');
        //     }
        //     }
        // }

    </script>
    <button class="btn btn-primary mb-3" type="submit" onclick="validate()">Перевірити</button>
</body>
</html>